@using System.Configuration
@using System.Web.Mvc
@using Chalkable.Web.Extensions

@helper MixPanel()
{
    <!-- start Mixpanel -->
    <script type="text/javascript">
        (function (e, b) {
            if (!b.__SV) {
                var a, f, i, g; window.mixpanel = b; a = e.createElement("script"); a.type = "text/javascript"; a.async = !0; a.src = ("https:" === e.location.protocol ? "https:" : "http:") + "//cdn.mxpnl.com/libs/mixpanel-2.2.min.js"; f = e.getElementsByTagName("script")[0]; f.parentNode.insertBefore(a, f); b._i = []; b.init = function (a, e, d) {
                    function f(b, h) { var a = h.split("."); 2 == a.length && (b = b[a[0]], h = a[1]); b[h] = function () { b.push([h].concat(Array.prototype.slice.call(arguments, 0))) } } var c = b; "undefined" !== typeof d ? c = b[d] =
                        [] : d = "mixpanel"; c.people = c.people || []; c.toString = function (b) { var a = "mixpanel"; "mixpanel" !== d && (a += "." + d); b || (a += " (stub)"); return a }; c.people.toString = function () { return c.toString(1) + ".people (stub)" }; i = "disable track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config people.set people.increment".split(" "); for (g = 0; g < i.length; g++) f(c, i[g]); b._i.push([a, e, d])
                };
                b.__SV = 1.2;
            }
        })(document, window.mixpanel || []);
        mixpanel.init("@ConfigurationManager.AppSettings["mixpanel-token"]");
    </script>
}


@helper Olark()
{
      <script type='text/javascript'>/*{literal}<![CDATA[*/window.olark || (function (i) { var e = window, h = document, a = e.location.protocol == "https:" ? "https:" : "http:", g = i.name, b = "load"; (function () { e[g] = function () { (c.s = c.s || []).push(arguments) }; var c = e[g]._ = {}, f = i.methods.length; while (f--) { (function (j) { e[g][j] = function () { e[g]("call", j, arguments) } })(i.methods[f]) } c.l = i.loader; c.i = arguments.callee; c.f = setTimeout(function () { if (c.f) { (new Image).src = a + "//" + c.l.replace(".js", ".png") + "&" + escape(e.location.href) } c.f = null }, 20000); c.p = { 0: +new Date }; c.P = function (j) { c.p[j] = new Date - c.p[0] }; function d() { c.P(b); e[g](b) } e.addEventListener ? e.addEventListener(b, d, false) : e.attachEvent("on" + b, d); (function () { function l(j) { j = "head"; return ["<", j, "></", j, "><", z, ' onl' + 'oad="var d=', B, ";d.getElementsByTagName('head')[0].", y, "(d.", A, "('script')).", u, "='", a, "//", c.l, "'", '"', "></", z, ">"].join("") } var z = "body", s = h[z]; if (!s) { return setTimeout(arguments.callee, 100) } c.P(1); var y = "appendChild", A = "createElement", u = "src", r = h[A]("div"), G = r[y](h[A](g)), D = h[A]("iframe"), B = "document", C = "domain", q; r.style.display = "none"; s.insertBefore(r, s.firstChild).id = g; D.frameBorder = "0"; D.id = g + "-loader"; if (/MSIE[ ]+6/.test(navigator.userAgent)) { D.src = "javascript:false" } D.allowTransparency = "true"; G[y](D); try { D.contentWindow[B].open() } catch (F) { i[C] = h[C]; q = "javascript:var d=" + B + ".open();d.domain='" + h.domain + "';"; D[u] = q + "void(0);" } try { var H = D.contentWindow[B]; H.write(l()); H.close() } catch (E) { D[u] = q + 'd.write("' + l().replace(/"/g, String.fromCharCode(92) + '"') + '");d.close();' } c.P(2) })() })() })({ loader: (function (a) { return "static.olark.com/jsclient/loader0.js?ts=" + (a ? a[1] : (+new Date)) })(document.cookie.match(/olarkld=([0-9]+)/)), name: "olark", methods: ["configure", "extend", "declare", "identify"] });
          /* custom configuration goes here (www.olark.com&frasl;documentation) */
          olark.identify('7960-903-10-2178');/*]]>{/literal}*/</script>
}

@helper LinkedIn(object linkedInId)
{
     <!-- <script type="text/javascript" src="https://platform.linkedin.com/in.js">
        api_key: @linkedInId
    </script>-->
}

@helper RenderSiteRoot(UrlHelper Url)
{
    if (Chalkable.Web.Tools.CompilerHelper.IsDebug)
    {
        <script type="text/javascript">
            var _ = window.location.href.toString().match(/http?s:\/\/[^\/]+/);

            if (_ == null) _ = '';
            var WEB_SITE_ROOT = _ + '@Url.Content("~/")';
        </script>
    }
    else
    {
        <script type="text/javascript">var WEB_SITE_ROOT = window.location.href.toString().match(/http?s:\/\/[^\/]+/) + '@Url.Content("~/")';</script>
    } 
}


@helper WebKitAutofill()
{
    <script type="text/javascript">
        function hideURLbar() {
            window.scrollTo(0, 0);
            addEventListener("load", function () { setTimeout(hideURLbar, 0); }, false);
        }

        $(window).load(function () {
            if (navigator.userAgent.toLowerCase().indexOf("chrome") >= 0) {
                $('input:-webkit-autofill').each(function () {
                    var text = $(this).val();
                    var name = $(this).attr('name');
                    $(this).after(this.outerHTML).remove();
                    $('input[name=' + name + ']').val(text);
                });
            }
        });
    </script>
}


@helper Facebook()
{
     <script type="text/javascript">
         (function (d, s, id) {
             var js, fjs = d.getElementsByTagName(s)[0];
             if (d.getElementById(id)) return;
             js = d.createElement(s); js.id = id;
             js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
             fjs.parentNode.insertBefore(js, fjs);
         }(document, 'script', 'facebook-jssdk'));

     </script>
}


@helper GoogleAnalytics()
{
    if (!Chalkable.Web.Tools.CompilerHelper.IsDebug)
    {
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-25952076-1']);
            _gaq.push(['_setDomainName', 'chalkable.com']);
            _gaq.push(['_trackPageview']);

            (function () {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    }
}


@helper RenderPageMetadata()
{
    <meta property="fb:page_id" content="www.facebook.com/chalkable" />
    <meta property="og:image" content="https://chalkable.com/Content/images/index/slider_imgs/admin_attend.jpg" />
    <meta property="og:description" content="Chalkable is an app store for school and a platform to make those apps work."/>
    <meta property="og:title" content="Chalkable"/>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="google" content="notranslate">
    <meta http-equiv="Content-Language" content="en" />
    <meta itemprop="name" content="Chalkable">
    <meta itemprop="description" content="I just signed up for Chalkable to get amazing apps into my school. Check it out for yourself.">
}




@helper RenderDemoFooter(bool isDemoSchool, bool isDeveloper, bool needsTour)
{
    if (isDemoSchool || isDeveloper)
    {
        <div id="demo-footer">
            @if (isDeveloper)
            {
                if (needsTour)
                {
                    <span id="first-tooltip" style="display:none"></span>
                }

                    <div id="current-app-name"></div>
                    <div class="border demo-end hidden"></div>
                    <div class="demo-end hidden">
                        <h3>Demo</h3>
                        <div id="demo-end-container"></div>
                    </div>
            }
            else
            {
                <div id="fb">
                    <h>Don't be shy</h>
                    <div class="fb-like" data-href="https://chalkable.com" data-layout="button_count" data-send="true" data-width="55" data-show-faces="true"></div>
                    <a id="principal"></a>
                </div>
                    <div class="border demo-end"></div>
                    <div class="demo-end">
                        <h>Demo</h>
                        <div id="demo-end-container"></div>
                    </div>
                <div class="border"></div>
                <div>
                    <h>Sign up</h>
                    <div id="demo-sign-up-container"></div>
                </div>
            }

            <div class="border"></div>
            

            <div id="roles-buttons">
                @if (isDeveloper)
                {
                    <a class="demo-role-button" rolename="Developer"><span><div class="mark left"></div><div class="mark right"></div>Developer</span></a
                >}<a class="demo-role-button" rolename="Student"><span><div class="mark left"></div><div class="mark right"></div>Student</span></a
                ><a class="demo-role-button" rolename="Teacher"><span><div class="mark left"></div><div class="mark right"></div>Teacher</span></a
                ><a class="demo-role-button" rolename="AdminGrade"><span><div class="mark left"></div><div class="mark right"></div>Admin</span></a
                ><a class="demo-role-button coming" rolename="Parent"><span><span></span><div class="mark left"></div><div class="mark right"></div>Parent</span></a
                ><a class="demo-role-button coming" rolename="District"><span><span></span><div class="mark left"></div><div class="mark right"></div>District</span></a>
            </div>
        </div>

        <div id="tellfriend" class="contact_form">
         <a class="close" href="#" >Close</a>
             <form id='tellafriend_form' method="post" action="#">

                 <label for="topersonmail">To: </label>
                 <input class="std_input" type="text" id="topersonmail" name="topersonmail" size="40" maxlength="35" />

                 <label for="frompersonmail">Your Email: </label>
                 <input class="std_input" type="text" id="frompersonmail" name="frompersonmail" size="40" maxlength="35" value="" />

                 <input class="std_input" type="hidden" id="subject" name="subject" size="40" value="Chalkable Demo - App store for school" />

                 <label for="message">Message: </label>
                 <textarea id="message" name="message" rows="18" cols="40">   Just checked out the Chalkable demo, thought you might want to take a look. It$quot;s an app store for school and a platform to make those apps work.
				    https://www.chalkable.com/DemoSchool/Demo
                 </textarea>

                 <div id="tellafriend-submit-container"></div>
            </form>
         </div>
     }
}    