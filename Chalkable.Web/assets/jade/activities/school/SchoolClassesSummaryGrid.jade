-var classes = self.getItems()
-var isNotEmptyAttendances = self.isNotEmptyAttendances()
-var isNotEmptyDisciplines = self.isNotEmptyDisciplines()
-var isNotEmptyGrades = self.isNotEmptyGrades()
-var schoolYearId = classes[0] && classes[0].getSchoolYearId()

.chlk-calendar.chlk-grid
    .header
        +ActionLink('schools', 'classesStatistic', self.getPageIndex() - 1, self.getFilter(), schoolYearId).grid-arrow.prev-arrow(class = self.isHasPreviousPage() ? "" : "disabled")
        +ActionLink('schools', 'classesStatistic', self.getPageIndex() + 1, self.getFilter(), schoolYearId).grid-arrow.next-arrow(class = self.isHasNextPage() ? "" : "disabled")
    .grid-content
        if classes.length
            .grid-header.grid-row
                .cell.name=Msg.Classes
                .cell.teacher-name=Msg.Teacher
                .cell.students=Msg.Students
                if isNotEmptyAttendances
                    .cell.attendance=Msg.Attendance
                if isNotEmptyDisciplines
                    .cell.discipline=Msg.Discipline
                if isNotEmptyGrades
                    .cell.grades=Msg.Grade_Avg
            each clazz in classes
                .grid-row
                    .cell.name
                        .icon
                            .pic
                                +ClassImg(clazz, 24, 43)
                        +ActionLink('class', 'info', clazz.getId())(data-tooltip = (clazz.getClassNumber() || '') + ' '+  clazz.getName())=clazz.getName()
                    .cell.teacher-name=clazz.getPrimaryTeacherName()
                    .cell.students=clazz.getStudentsCount()
                    if isNotEmptyAttendances
                        .cell.attendance
                            .circle(
                                data-tooltip = clazz.getStudentsCount() + ' Students, ' + clazz.getAbsences() + ' Absent',
                                class = clazz.getAbsencesClass()
                            )=clazz.getAbsences()
                    if isNotEmptyDisciplines
                        .cell.discipline
                            .circle(
                                data-tooltip=clazz.getInfractionsCount() + ' Discipline Infractions Today',
                                class = clazz.getInfractionsClass()
                            )=clazz.getInfractionsCount()
                    if isNotEmptyGrades
                        .cell.grades
                            .circle(
                                data-tooltip=clazz.getAvg() && (clazz.getAvg() + '% Average'),
                                class = clazz.getAvgClass()
                            )=clazz.getAvg()
        else
            .no-items-text There are no classes
    .footer Page #{self.getTotalPages() ? self.getPageIndex() + 1 : 0} of #{self.getTotalPages()}