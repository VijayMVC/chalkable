.announcement-form
    -topData = self.getTopData();
    -announcement = self.getAnnouncement();
    -topItems = topData.getTopItems();
    -classId = announcement.getClassId();
    -console.info(classId);
    -typeId = self.getSelectedTypeId();
    -attachments=[];
    -announcement.getAnnouncementAttachments().forEach(function(attachment){attachments.push(attachment.__PROTECTED)});
    -classes=self.getClassInfo() ? self.getClassInfo().getTypesByClass() : [];
    +ActionForm('announcement', 'save')
        +LeftRightToolbar(topItems, chlk.templates.class.TopBar)(
            selectedItemId=topData.getSelectedItemId(),
            pressAfterClick=!announcement.getState()
        ).classes-bar
        .action-bar.not-transparent.buttons(class=classId ? '' : 'x-hidden')
            .container.panel-bg
                each item in classes
                    BUTTON(
                        class = "validate-skip " + (typeId==item.getId() ? 'pressed' : ''),
                        typeId=item.getId(),
                        typeName=item.getName(),
                        type = announcement.getState() ? "button" : "submit",
                        name="submitType",
                        value="save"
                    ).action-button= item.getDescription()
        .ann-form-container(class=classId && typeId ? '' : 'x-hidden')
            +RenderWith(announcement, chlk.templates.announcement.Announcement)
        .choose-type(class=classId && !typeId ? '' : 'x-hidden')
        .choose-class(class=classId ? 'x-hidden' : '')


