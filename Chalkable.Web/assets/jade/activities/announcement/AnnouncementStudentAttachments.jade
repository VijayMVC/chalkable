#attach-file-area.announcement-item.attach-file-area
    if self.isGradable()
        div.simple-gray-button.file Attach File
            +FileUpload('announcement', 'uploadAttachment', [self.getId().valueOf()])#add-attachment.simple-gray-button
each attachment, i in self.getAnnouncementAttachments()
    if attachment.isOwner()
        .announcement-item.attachment
            +ActionLink('announcement', 'deleteAttachment', attachment.getId()).close-btn
            if attachment.getType() == chlk.models.announcement.ApplicationOrAttachmentEnum.OTHER
                .title=attachment.getName()
                A(href=attachment.getUrl()).download-link Download
            else
                +LoadingImage(src=attachment.getThumbnailUrl(), id="loading-image-" + i)
                .title=attachment.getName()
                +ActionButton('announcement', 'viewAttachment', attachment.getId()) Open

