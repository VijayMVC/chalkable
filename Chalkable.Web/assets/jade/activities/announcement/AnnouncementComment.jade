-var isOwner = self.getOwner().getId() == self.getCurrentUser().getId()

.table.row(class=self.isHidden() ? 'hidden-comment' : '')
    .avatar-block-left
        +PersonImg(self.getOwner(), 64)
    .qna
        input(type="hidden",name="id", value=self.getId())
        +Hidden('attachmentId').attachment-id
        .chat-bubble.relative
            .top-block
                SPAN.time=self.getPostedDate().getDate().format('M d, Y @ h:i:s A')
                .right
                    if isOwner
                        .edit-grey-icon
                    .reply-icon
                    if !self.getUserRole().isStudent()
                        if self.isHidden()
                            +ActionLink('announcementcomment', 'setCommentHidden', self.getId(), false).visible-icon
                        else
                            +ActionLink('announcementcomment', 'setCommentHidden', self.getId(), true).invisible-grey-icon
                        .x-remove-icon
            p.edit-question-text= self.getText()
            if self.getAttachment()
                .img-cnt
                    +RenderWith(self.getAttachment(), chlk.templates.LoadingImageTpl)

            .delete-block.cover-container
                .delete-content
                    .text Do you want to delete this comment ?
                    +ActionButton('announcementcomment', 'deleteComment', self.getId()).negative-button Delete
                    BUTTON(type="button").delete-cancel Cancel

        if isOwner
            +PostCommentForm(null, null, self.getId(), self.getAttachment(), self.getText()).edit-form
        +PostCommentForm(null, self.getId()).reply-form

        if self.getSubComments()
            .comments-block
                +RenderWith(self.getSubComments(), chlk.templates.announcement.AnnouncementCommentTpl)(
                    userRole = self.getUserRole(),
                    currentUser = self.getCurrentUser()
                )
