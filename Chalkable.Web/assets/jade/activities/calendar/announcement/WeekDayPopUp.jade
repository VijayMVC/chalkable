.calendar-popup.popup-bubble
    -var announcements = self.getAnnouncements()
    -var period = self.getPeriod()
    -var roomNumber = period.getRoomNumber()
    -var teacherDisplayName = period.getTeacherDisplayName();
    if period.getClassId()
        .class-name
            h3.day-day
                if self.getCurrentUser().getRole().getId() != chlk.models.common.RoleEnum.STUDENT.valueOf()
                    +ActionLink('class', 'info', period.getClassId())=period.getClassName()
                else
                    span=period.getClassName()
    .info
        if teacherDisplayName
            .day-down: +ActionLink('teachers', 'details', period.getTeacherId())= teacherDisplayName
        if roomNumber
            .day-down Rm #{roomNumber}
        .day-down #{period.displayPeriodTimeRange()}
        .day-down= self.getDate().format('DD, M d')
    if announcements.length > 0
        .announcements-list
            .day-announcements
                each item in announcements
                    .items
                        +ActionLink('announcement', 'view', item.getId())(class="announcement-type-" + item.getChalkableAnnouncementType()).pop-up-announcement
                            div
                                +TooltipWithOverflow(item.getTitle()).item-title
    if !self.getUserRole().isStudent() && period.isTeaching() !== false
        -var classId = (self.getSelectedClassId() && self.getSelectedClassId().valueOf()) || (period.getClassId() && period.getClassId().valueOf())
        +ActionButton('announcement', 'addViaCalendar', self.getDate().format('mm-dd-yy'), true, classId || '').ann-button.plus-ann New item



