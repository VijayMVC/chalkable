.attachment-file(data-index = self.getFileIndex(), class=self.getId() ? '' : 'pending')
    .icon
        if self.getId() && self.getId().valueOf() > 0
            +LoadingImage(src=self.getThumbnailUrl() ? self.getThumbnailUrl().replace('110x170', '33x51') : '')
    .name(data-tooltip=self.getName(), data-tooltip-type="overflow")=self.getName()
        span.size &#32;(#{self.getSize()})
    .progress-wrapper
        if self.getLoaded()
            .progress(style="width:" + self.getLoaded() * 100 / self.getTotal() + "%")
        else
            .progress(style="width:" + (self.getId() ? "100%" : "0"))
    .img-loader

    if self.getId()
        +Hidden('id.' + self.getFileIndex(), self.getId())
        +Hidden('json.' + self.getFileIndex(), JSON.stringify(self.getModel().serialize()))
        a.close-btn.delete-attachment
