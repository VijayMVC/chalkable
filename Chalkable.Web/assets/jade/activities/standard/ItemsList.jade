mixin StandardItemInner_(currentItemsType, item)
    .item-name=item.getName()
    if item.getDescription()
        .item-description= '  -  ' + item.getDescription()

mixin StandardItemByType_(currentItemsType, item)
    case currentItemsType
        when chlk.models.standard.ItemType.SUBJECT
            +ActionLink('standard', 'showChildItems', currentItemsType, item.getName(), item.getId()).item-block
                +StandardItemInner_(currentItemsType, item)
        when chlk.models.standard.ItemType.STANDARD
            if item.isDeepest()
                .item-block.able-add-item(
                    data-id=item.getStandardId().valueOf(),
                    data-name=item.getName(),
                    data-description=item.getDescription()
                )
                    +StandardItemInner_(currentItemsType, item)
            else
                +ActionLink('standard', 'showChildItems', currentItemsType, item.getName(), item.getSubjectId(), item.getStandardId()).item-block
                    +StandardItemInner_(currentItemsType, item)
        when chlk.models.standard.ItemType.AUTHORITY
            +ActionLink('standard', 'showChildItems', currentItemsType, item.getName(), null, null, item.getId()).item-block
                +StandardItemInner_(currentItemsType, item)
        when chlk.models.standard.ItemType.DOCUMENT
            +ActionLink('standard', 'showChildItems', currentItemsType, item.getName(), null, null, item.getAuthorityId(), item.getId()).item-block
                +StandardItemInner_(currentItemsType, item)
        when chlk.models.standard.ItemType.SUBJECT_DOCUMENT
            +ActionLink('standard', 'showChildItems', currentItemsType, item.getName(), null, null, item.getAuthorityId(), item.getDocumentId(), item.getId()).item-block
                +StandardItemInner_(currentItemsType, item)
        when chlk.models.standard.ItemType.GRADE_LEVEL
            +ActionLink('standard', 'showChildItems', currentItemsType, item.getName(), null, null, item.getAuthorityId(), item.getDocumentId(), item.getSubjectDocumentId(), item.getCode()).item-block
                +StandardItemInner_(currentItemsType, item)
        when chlk.models.standard.ItemType.AB_STANDARD
            if item.isDeepest()
                .item-block.able-add-item(
                    data-id=item.getStandardId().valueOf(),
                    data-name=item.getName(),
                    data-description=item.getDescription()
                )
                    +StandardItemInner_(currentItemsType, item)
            else
                +ActionLink('standard', 'showChildItems', currentItemsType, item.getName(), null, null, item.getAuthorityId(), item.getDocumentId(), item.getSubjectDocumentId(), item.getGradeLevel(), item.getStandardId()).item-block
                    +StandardItemInner_(currentItemsType, item)


currentItemsType = self.getCurrentItemsType()

each item in self.getItems()
    +StandardItemByType_(currentItemsType, item)

