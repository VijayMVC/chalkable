mixin ParentProfileInfoView(contacts)
    each contact in contacts
        -var person = contact.getPersonInfo()
        -var primaryPhone = person.getPrimaryPhone() ? person.getPrimaryPhone().getValue() : '';
        -var address = person.getAddress() ? person.getAddress().getValue() : ''
        +CloseOpen(contact.getRelationshipName()).today-work-panel
            .sections-info
                .section-data
                    .info-title=contact.getRelationshipName() + ' Name'
                    .data-info=person.getFullName()
                if person.getEmail()
                    .section-data
                        .info-title=Msg.Email
                        .data-info=person.getEmail()
                if primaryPhone
                    .section-data
                        .info-title=Msg.Cell
                        .data-info=primaryPhone
                if address
                    .section-data
                        .info-title=Msg.Address
                        .data-info=address

.profile-page.view-mode
    h2.page-title=Msg.Student_profile
    +ProfileTopBar(self, 'info')
    +ProfileInfoView(self.getUser())
        +ParentProfileInfoView(self.getUser().getStudentContacts())
        //todo parent section
    +ProfileInfoForm('students', self.getUser())

